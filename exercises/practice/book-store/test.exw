include book-store.e

constant testCases = {{"Only a single book",{1},800},
                      {"Two of the same book",{2,2},1600},
                      {"Empty basket",{},0},
                      {"Two different books",{1,2},1520},
                      {"Three different books",{1,2,3},2160},
                      {"Four different books",{1,2,3,4},2560},
                      {"Five different books",{1,2,3,4,5},3000},
                      {"Two groups of four is cheaper than group of five plus group of three",{1,1,2,2,3,3,4,5},5120},
                      {"Two groups of four is cheaper than groups of five and three",{1,1,2,3,4,4,5,5},5120},
                      {"Group of four plus group of two is cheaper than two groups of three",{1,1,2,2,3,4},4080},
                      {"Two each of first four books and one copy each of rest",{1,1,2,2,3,3,4,4,5},5560},
                      {"Two copies of each book",{1,1,2,2,3,3,4,4,5,5},6000},
                      {"Three copies of first book and two each of remaining",{1,1,2,2,3,3,4,4,5,5,1},6800},
                      {"Three each of first two books and two each of remaining books",{1,1,2,2,3,3,4,4,5,5,1,2},7520},
                      {"Four groups of four are cheaper than two groups each of five and three",{1,1,2,2,3,3,4,5,1,1,2,2,3,3,4,5},10240},
                      {"Check groups of four right when more groups of three than of five",{1,1,1,1,1,1,2,2,2,2,2,2,3,3,3,3,3,3,4,4,5,5},14560},
                      {"One group of one and four is cheaper than one group of two and three",{1,1,2,3,4},3360},
                      {"One group of one and two plus three groups of four is cheaper than one group of each size",{1,2,2,3,3,3,4,4,4,4,5,5,5,5,5},10000}}

set_test_verbosity(TEST_SHOW_ALL)
for t in testCases do
    {string desc, sequence input, integer expected} = t
    test_equal(Cost(input),expected,desc)
end for
test_summary()

